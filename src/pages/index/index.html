<!--
  Generated template for the IndexPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  

</ion-header> -->


<ion-content padding>
  <div class="searchbar">
    <ion-icon name="search"></ion-icon>
    <input type="text" placeholder="搜影视" style="border:none">
  </div>

 <ion-slides style="height:110px;" *ngIf="carouselItems.length>0" autoplay="3000" pager effect="slide" paginationType="bullets" loop="true">
   <ion-slide *ngFor="let item of carouselItems;let myIndex=index" (click)="jumpToNews(myIndex)">
     <img [src]="'assets/'+item.img" />
   </ion-slide>
 </ion-slides>
 

 <div class="title">
   正在热映
    <span style="float:right;color:#666;font-size:1.2rem" (click)="jumpToFilm('topSale')">
      全部
     <i class="iconfont icon-iconfontright" style="margin-left:-4px;vertical-align:top;font-size:1.4rem;"></i>
  </span>
 </div>
 <ion-scroll scrollX="true" style="white-space:nowrap;height:160px">
  <ion-card class="box" *ngFor="let item of topSaleItems;let myIndex=index" (click)="jumpToDetail(myIndex,topSaleItems)">
    <img [src]="'assets/'+item.img" alt="">
    <ion-card-content style="padding:5px;" class="bold ellipse">
      {{item.fname}}
    </ion-card-content>
  </ion-card>
</ion-scroll>

<div class="sep-line"></div>
<div class="title">
  即将上映
  <span style="float:right;color:#666;font-size:1.2rem" (click)="jumpToFilm('soonShow')">
      全部
     <i class="iconfont icon-iconfontright" style="margin-left:-4px;vertical-align:top;font-size:1.4rem;"></i>
  </span>
</div>
<ion-scroll scrollX="true" style="white-space:nowrap;height:190px">
 <ion-card class="box" *ngFor="let item of soonShowItems;let myIndex=index" (click)="jumpToDetail(myIndex,soonShowItems)">
   <img [src]="'assets/'+item.img" >
   <ion-card-content style="padding:5px;">
    <p style="color:#000;" class="ellipsis bold">{{item.fname}}</p>
    <p *ngIf="item.release_time" class="ellipsis" style="font-size:1.2rem;">{{item.release_time.slice(5).replace('-','月')+'日'}}</p>
   </ion-card-content>
 </ion-card>
</ion-scroll>

<div class="sep-line"></div>
<div class="title">新闻资讯</div>
<ion-list>
  <ion-item *ngFor="let item of newsItems;let myIndex=index" style="padding-left:0;" (click)="jumpToNewsAll(myIndex)">
    <div  *ngIf="imgs[item.nid].length>2">
        <div style="white-space:normal;font-weight:500;font-size:1.4rem">{{item.title}}</div>
        <div class="flex">
            <p *ngFor="let img of imgs[item.nid];let myIndex=index" class="img" >
                <img [src]="'assets/'+img" *ngIf="myIndex<3" style="border-radius:4px;">
            </p>
        </div>
        
        <p style="font-size:1.2rem">
          <ion-note>呀呵电影</ion-note>
          <ion-note style="margin-left:6px;">{{item.timer}}</ion-note>
          <span style="float:right">
            <i class="iconfont icon-msg"></i>
            <ion-note>{{item.com_num}}</ion-note>
          </span>
          <span style="float:right;margin-right:4px;">
              <i class="iconfont icon-view"></i>
              <ion-note>{{item.view_num}}</ion-note>
          </span>
        </p>
    </div>
    <div  *ngIf="imgs[item.nid].length<=2">
        <div style="white-space:normal;display:inline-block;width:65%;font-weight:500;font-size:1.4rem;">{{item.title}}</div>
        <img [src]="'assets/'+imgs[item.nid][0]" style="border-radius:4px;width:30%;height:60px;vertical-align:top;">
        <p style="font-size:1.2rem">
            <ion-note>呀呵电影</ion-note>
            <ion-note style="margin-left:6px;">{{item.timer}}</ion-note>
            <span style="float:right">
              <i class="iconfont icon-msg"></i>
              <ion-note>{{item.com_num}}</ion-note>
            </span>
            <span style="float:right;margin-right:4px;">
                <i class="iconfont icon-view"></i>
                <ion-note>{{item.view_num}}</ion-note>
            </span>
          </p>
    </div>
   
  </ion-item>
</ion-list>




</ion-content>
